(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{129:function(e,t){e.exports="data:image/png;base64,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"},166:function(e,t,a){e.exports=a(201)},172:function(e,t,a){},201:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),c=(a(171),a(172),a(15)),i=a(17),s=a(94),m=a.n(s),u=a(7),p=a.n(u),h=a(10),d=a(11),f=a(12),g=a(14),v=a(13),b=a(219),E=a(216),k=a(85),y=a(152),w=a(215);function x(e){localStorage.setItem("token",e)}var C=function(){localStorage.setItem("isGettingToKnow",!0)},N=function(){localStorage.removeItem("isGettingToKnow")},j=function(){localStorage.removeItem("token"),localStorage.removeItem("avatar"),localStorage.removeItem("userId")},O=function(){var e=localStorage.getItem("token");if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))},S=function(){var e=O();return!!e&&Math.floor(Date.now()/1e3)<e.exp},P=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={redirect:!1},e.trigger=function(){return r.a.createElement("span",null,r.a.createElement(y.a,{avatar:!0,src:e.props.sourceImage}))},e.switchProfile=function(){e.setState({redirect:"/profile/".concat(e.props.userId)})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=[{key:"Profile",text:"Profile",as:c.b,to:"/profile/".concat(this.props.userId),onClick:this.switchProfile},{key:"Liked",text:"Liked Photos",as:c.b,to:"/liked"},{key:"Log-out",text:"Log out",as:c.b,to:"/",onClick:j}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{trigger:r.a.createElement("span",null,r.a.createElement(y.a,{avatar:!0,src:this.props.sourceImage,bordered:!0,size:"mini"})),options:e,pointing:"top left",icon:null}))}}]),a}(r.a.Component),F=Object(i.g)(P),D=a(25),I=a.n(D);function A(){return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}}function U(){return I.a.get("/api/auth/profile/",A())}function T(e){return I.a.get("/api/auth/profile/".concat(e,"/"),A())}var L=function(e){return I.a.get("/api/photos/".concat(e,"/"))},z=function(e,t){return I.a.post("/api/auth/profile/".concat(e,"/follows/"),t,A())},M=function(e){return I.a.delete("/api/auth/profile/".concat(e,"/follows/"),A())},B=function(e){return I.a.post("/api/photos/",e,A())},J=function(e,t){return I.a.post("/api/photos/".concat(e,"/likes/"),t,A())},H=function(e){return I.a.delete("/api/photos/".concat(e,"/likes/"),A())},R=function(e){return I.a.post("/api/comments/",e,A())},_=function(e){return I.a.post("".concat("/api","/auth/register/"),e)},K=function(e){return I.a.post("/api/auth/login/",e)},V=function(e){localStorage.setItem("avatar",e)},W=function(){return localStorage.getItem("avatar")},G=function(e){localStorage.setItem("userId",e)},Y=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={avatar:"",userId:null},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S()){e.next=13;break}return e.prev=1,e.next=4,U();case 4:t=e.sent,a=t.data.id,n=W(),this.setState({avatar:n,userId:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=W(),t=localStorage.getItem("userId");return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"logo"},S()&&r.a.createElement(c.b,{to:"/photoshome",style:{textDecoration:"none",color:"black"}},r.a.createElement("p",null,"499",r.a.createElement("sup",null,"px"))),!S()&&r.a.createElement("p",null,"499",r.a.createElement("sup",null,"px"))),r.a.createElement("div",{className:"nav-btns"},!localStorage.getItem("isGettingToKnow")&&!S()&&r.a.createElement("div",null,r.a.createElement(c.b,{to:"/login","data-cy":"navbar-login"},"Log in"),r.a.createElement(b.a,{className:"lozenge",as:c.b,to:"/join"},"Sign up")),S()&&r.a.createElement(E.a.Item,null,r.a.createElement(F,{sourceImage:this.props.location.state?this.props.location.state.avatarImg:e,userId:t}),r.a.createElement(b.a,{className:"lozenge upload",as:c.b,to:"/upload"},r.a.createElement(k.a,{name:"arrow up"}),"Upload"))))}}]),a}(r.a.Component),Z=Object(i.g)(Y),X=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-hero"},r.a.createElement("div",{className:"hero-text-container"},r.a.createElement("h1",{className:"hero-title"},"Discover and share photos:",r.a.createElement("br",null),"With 499",r.a.createElement("sup",null,"px"),", a 500",r.a.createElement("sup",null,"px")," clone"),r.a.createElement("p",{className:"hero-sub"},"This is a clone of the website 500px."),r.a.createElement(b.a,{className:"lozenge",as:c.b,to:"/join","data-cy":"home-signup"},"Sign up")),r.a.createElement("svg",{id:"layer-1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1416.99 174.01"},r.a.createElement("g",{fill:"#FFF"},r.a.createElement("path",{d:"M0,280.8S283.66,57,608.94,163.56s437.93,150.75,808,10.34V309.54H0V280.8Z",transform:"translate(0 -135.53)"}))),r.a.createElement("p",{id:"hero-image-credit"},"Photo by Patrick Fore on Unsplash")),r.a.createElement("div",{className:"home-details"},r.a.createElement("h1",null,"What makes us the same"),r.a.createElement("div",{className:"home-details-text"},r.a.createElement("div",{className:"detail-tile"},r.a.createElement(k.a,{name:"clone outline",size:"huge"}),r.a.createElement("h3",null,"Style and feel"),r.a.createElement("p",null,"I am tring to emulate as much as possible to the style and feel. This is an ongoing effort to improve my skills with both React and Sass.")),r.a.createElement("div",{className:"detail-tile"},r.a.createElement(k.a,{name:"address card outline",size:"huge"}),r.a.createElement("h3",null,"Discover and post"),r.a.createElement("p",null,"You can post photos, browse photos by others, and follow photographers. Photos from those you follow will then appear in your home feed.")),r.a.createElement("div",{className:"detail-tile"},r.a.createElement(k.a,{name:"github",size:"huge"}),r.a.createElement("h3",null,"Take a look on github"),r.a.createElement("p",null,"This is an ongoing project. Take a look at the code on ",r.a.createElement("a",{href:"https://github.com/Simon994/RAWShot",target:"blank"},"github"),".")))))},q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth-form-container"},r.a.createElement("div",{className:"auth-container"},r.a.createElement("h2",null,"Join 499px"),r.a.createElement("p",{className:"signup"},"Discover and share increadible photos, gain global exposure"),r.a.createElement(b.a,{className:"lozenge login-email-btn",type:"submit",as:c.b,to:"/signup","data-cy":"join-email-signup"},r.a.createElement(k.a,{name:"mail"}),"Continue with email"),r.a.createElement(b.a,{className:"lozenge login-fb-btn",type:"submit",animated:"fade",onClick:function(){console.log("SIGNUP!!\ud83e\udd84")}},r.a.createElement(b.a.Content,{visible:!0},r.a.createElement(k.a,{name:"facebook official"}),"Continue with MetaMask")),r.a.createElement(b.a,{className:"lozenge login-google-btn",type:"submit",animated:"fade"},r.a.createElement(b.a.Content,{visible:!0},r.a.createElement(k.a,{name:"google"}),"Continue with Google"),r.a.createElement(b.a.Content,{hidden:!0},r.a.createElement(k.a,{color:"red",name:"warning"}),"Coming soon")),r.a.createElement("p",{className:"have-account"},"Already have an account? ",r.a.createElement(c.b,{to:"/login"},"Log in")))))},Q=a(39),$=a(16),ee=a(217),te=a(213),ae=a(221),ne={background:"#FF4C4C",text:"white"},re=function(e){s.notify.show(e,"custom",3e3,ne)},oe=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formData:{email:"",password:""},redirect:""},e.handleChange=function(t){var a=Object($.a)(Object($.a)({},e.state.formData),{},Object(Q.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.formData,n=a.password,r=a.email;try{if(!n||!r)throw new Error("missing emai/password");if(n.length<8)throw new Error("password length to short");C();var o=Object($.a)(Object($.a)({},e.state.formData),{},{password_confirmation:n});e.setState({formData:o,redirect:"/gettoknow"})}catch(l){console.log(l.message),"password length to short"===l.message?re("Password length too short"):re("Please provide both email and password")}},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.formData,t=e.email,a=e.password;return this.state.redirect?r.a.createElement(i.a,{to:{pathname:this.state.redirect,state:this.state}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth-form-container"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(ee.a,{onSubmit:this.handleSubmit},r.a.createElement("p",{className:"signup"},"Sign up"),r.a.createElement(te.a,{horizontal:!0},r.a.createElement(ae.a,{as:"h6"},"here")),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Email"),r.a.createElement("input",{placeholder:"",onChange:this.handleChange,value:t,name:"email","data-cy":"signup-email"})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Password"),r.a.createElement("input",{placeholder:"(minimum 8 characters)",onChange:this.handleChange,type:"password",value:a,name:"password","data-cy":"signup-password"})),r.a.createElement(b.a,{className:"lozenge signup-email-btn",type:"submit"},"Sign up")),r.a.createElement("p",{className:"have-account"},"Already have an account? ",r.a.createElement(c.b,{to:"/login"},"Log in")))))}}]),a}(r.a.Component),le=a(214),ce=a(129),ie=a.n(ce),se="https://api.cloudinary.com/v1_1/duzftncuf/image/upload",me=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={image:ie.a,isLoadActive:!1},e.handleUpload=function(){var t=Object(h.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoadActive:!0}),(n=new FormData).append("file",a.target.files[0]),n.append("upload_preset","bj2iscf3"),t.prev=4,t.next=7,I.a.post(se,n);case 7:r=t.sent,e.setState({isLoadActive:!1,image:r.data.url},(function(){e.props.onChange(e.state.image)})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0),re("Something went wrong. Please try again or use a different photo"),e.setState({isLoadActive:!1});case 16:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.image;return this.state.isLoadActive?r.a.createElement(le.a,{active:!0,inline:"centered",indeterminate:!0},"Preparing photo"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"300px"}},r.a.createElement(y.a,{src:e,alt:"selected",avatar:!0,className:"avatar-preview","data-cy":"".concat(e!==ie.a?"uploaded-avatar":"default")})),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:this.handleUpload}),r.a.createElement("label",{htmlFor:"file",style:{cursor:"pointer"}},"Add avatar")))}}]),a}(r.a.Component),ue=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formData:null,redirect:!1},e.handleChange=function(t){var a=Object($.a)(Object($.a)({},e.state.formData),{},Object(Q.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleImageChange=function(t){var a=Object($.a)(Object($.a)({},e.state.formData),{},{profile_image:t});e.setState({formData:a})},e.handleSubmit=function(){var t=Object(h.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=Object($.a)({},e.state.formData),t.prev=2,t.next=5,_(n);case 5:201===t.sent.status&&(N(),V(e.state.formData.profile_image),e.setState({redirect:"/login"})),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),re("Please fill in all fields. Username may contain only letters, numbers, and @/./+/-/_ characters."),e.setState({formUsernameError:!0});case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.location.state.formData,a=Object($.a)(Object($.a)({},t),{},{first_name:"",last_name:"",username:"",profile_image:""}),this.setState({formData:a});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.formData)return null;var e=this.state.formData,t=e.first_name,a=e.last_name,n=e.username;return this.state.redirect?r.a.createElement(i.a,{to:this.state.redirect}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth-form-container"},r.a.createElement("div",{className:"auth-container"},r.a.createElement("h2",null,"Welcome to 499px.",r.a.createElement("br",null),"Let's get to know you a little."),r.a.createElement(ee.a,{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"avatar-img-upload"},r.a.createElement(me,{labelText:"Profile Image",onChange:this.handleImageChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"First name"),r.a.createElement("input",{placeholder:"",onChange:this.handleChange,value:t,name:"first_name",className:"first-input-gtk","data-cy":"gtk-first-name"})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Last name"),r.a.createElement("input",{placeholder:"",onChange:this.handleChange,value:a,name:"last_name","data-cy":"gtk-last-name"})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Username"),r.a.createElement("input",{placeholder:"",onChange:this.handleChange,value:n,name:"username","data-cy":"gtk-username"})),r.a.createElement(b.a,{className:"lozenge signup-email-btn",type:"submit"},"Next")))))}}]),a}(r.a.Component),pe=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formData:{email:"",password:""},formUsernameError:!1,redirect:!1},e.handleChange=function(t){var a=Object($.a)(Object($.a)({},e.state.formData),{},Object(Q.a)({},t.target.name,t.target.value));e.setState({formData:a,formUsernameError:!1})},e.handleSubmit=function(){var t=Object(h.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,K(e.state.formData);case 4:return x(t.sent.data.token),t.next=8,U();case 8:n=t.sent,V(n.data.profile_image),G(n.data.id),e.setState({redirect:"/photoshome"}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),re("Please provide the correct details"),e.setState({formUsernameError:!0});case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.formData,t=e.email,a=e.password;return this.state.redirect?r.a.createElement(i.a,{to:{pathname:this.state.redirect,state:{avatarImg:W()}}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth-form-container"},r.a.createElement("div",{className:"auth-container"},r.a.createElement(ee.a,{onSubmit:this.handleSubmit,error:this.state.formUsernameError},r.a.createElement("h2",null,"Log in to 499px"),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Email"),r.a.createElement("input",{placeholder:"email",onChange:this.handleChange,value:t,name:"email","data-cy":"email"})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Password"),r.a.createElement("input",{placeholder:"password",onChange:this.handleChange,value:a,type:"password",name:"password","data-cy":"password"})),r.a.createElement(b.a,{className:"lozenge login-email-btn",type:"submit"},"Log in"),r.a.createElement(b.a,{className:"lozenge login-fb-btn",type:"submit",animated:"fade"},r.a.createElement(b.a.Content,{visible:!0},r.a.createElement(k.a,{name:"facebook official"}),"Log in with MetaMask"),r.a.createElement(b.a.Content,{hidden:!0},r.a.createElement(k.a,{color:"red",name:"warning"}),"Coming soon")),r.a.createElement(b.a,{className:"lozenge login-google-btn",type:"submit",animated:"fade"},r.a.createElement(b.a.Content,{visible:!0},r.a.createElement(k.a,{name:"google"}),"Log in with Google"),r.a.createElement(b.a.Content,{hidden:!0},r.a.createElement(k.a,{color:"red",name:"warning"}),"Coming soon"))),r.a.createElement("p",{className:"no-account"},"Don't have an account? ",r.a.createElement(c.b,{to:"/signup"},"Sign up")))))}}]),a}(r.a.Component),he=a(153),de=(a(200),a(149)),fe=a.n(de),ge=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={heartColor:"grey",liked:!1},e.handleClick=Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.photo.id,e.state.liked){t.next=14;break}return t.prev=3,t.next=6,J(a);case 6:e.setState({heartColor:"pink",liked:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:t.next=23;break;case 14:return t.prev=14,t.next=17,H(a);case 17:e.setState({heartColor:"grey",liked:!1}),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(14),console.error(t.t1);case 23:case"end":return t.stop()}}),t,null,[[3,9],[14,20]])}))),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.photo.liked_by.includes(this.props.userProfile.id),t=e?"pink":"grey";this.setState({heartColor:t,liked:e})}},{key:"render",value:function(){var e=this.props.photo,t=e.image,a=e.owner,n=e.ownerId,o=e.ownerProfileImage,l=e.id,i=e.title,s=this.state.heartColor;return r.a.createElement("div",{className:"image-item tile"},r.a.createElement(c.b,{to:"/photos/".concat(l)},r.a.createElement("img",{src:t,alt:i})),r.a.createElement("div",{className:"details"},r.a.createElement("span",{className:"title"},r.a.createElement(y.a,{className:"tile-avatar",src:o,avatar:!0}),r.a.createElement(c.b,{to:"/profile/".concat(n),style:{color:"white"}},a)),r.a.createElement("div",{className:"heart-btn-container"},r.a.createElement(k.a,{name:"heart",size:"big",color:s,onClick:this.handleClick}))))}}]),a}(r.a.Component),ve=Object(i.g)(ge),be=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.followeePhotos,a=e.ownerPhotos,n=e.userProfile,o=a.concat(t);return o.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"image-grid-outer"},r.a.createElement("div",{className:"image-grid tiles",style:{marginTop:"30px"}},o.map((function(e,t){return r.a.createElement(ve,{photo:e,userProfile:n,key:t})}))))):null}}]),a}(r.a.Component),Ee=a(86),ke=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={following:!1},e.handleFollowClick=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z(e.props.id);case 3:if(202!==t.sent.status){t.next=8;break}e.setState({following:!0}),t.next=9;break;case 8:throw new Error;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.handleUnfollowClick=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e.props.id);case 3:if(202!==t.sent.status){t.next=8;break}e.setState({following:!1}),t.next=9;break;case 8:throw new Error;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.profileImage,a=e.created_photo,n=e.first_name,o=e.last_name,l=e.id,i=this.state.following,s=a.slice(0,3);return r.a.createElement("div",{className:"profile-card-outer"},r.a.createElement("div",{className:"profile-card-imgcontainer"},s.map((function(e){return r.a.createElement("div",{key:e.id,style:{backgroundImage:"url(".concat(e.image,")"),width:"110px",height:"135px",backgroundSize:"cover",margin:"3px"},alt:"from user profile",className:"profile-card-img"})}))),r.a.createElement("div",{className:"profile-card-text"},r.a.createElement(y.a,{avatar:!0,src:t,bordered:!0}),r.a.createElement(c.b,{to:"/profile/".concat(l),className:"profile-card-link"},r.a.createElement("span",null,r.a.createElement("strong",null,n," ",o))),!i&&r.a.createElement(b.a,{className:"lozenge follow",floated:"right",onClick:this.handleFollowClick},"Follow"),i&&r.a.createElement(b.a,{className:"lozenge unfollow",floated:"right",onClick:this.handleUnfollowClick},"Unfollow")))}}]),a}(r.a.Component),ye=Object(i.g)(ke),we=function(e){var t=e.profilesSuggestedToFollow,a=e.visibleSlides;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profiles-to-follow"},r.a.createElement(Ee.c,{naturalSlideWidth:600,naturalSlideHeight:60,totalSlides:t.length,visibleSlides:a},r.a.createElement("div",{className:"container"},r.a.createElement(Ee.e,null,t.map((function(e,t){return r.a.createElement(Ee.d,{key:t,index:t,className:"slide"},r.a.createElement(ye,Object.assign({key:e.id,created_photo:e.created_photo,username:e.username,profileImage:e.profile_image},e)))}))),r.a.createElement("div",{className:"slider-btn-container"},r.a.createElement(Ee.a,{className:"buttonBack"},r.a.createElement(k.a,{name:"chevron circle left",size:"big"})),r.a.createElement(Ee.b,{className:"buttonNext"},r.a.createElement(k.a,{name:"chevron circle right",size:"big"})))))))},xe=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={createdPhotos:[],profilesSuggestedToFollow:[],photosByFollowees:[],userProfile:{}},e.updateOwner=function(e){return e.created_photo.map((function(t){return Object($.a)(Object($.a)({},t),{},{owner:e.username,ownerId:e.id,ownerProfileImage:e.profile_image})}))},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a,n,r,o,l,c,i,s=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/api/auth/profilelist/",A());case 2:return t=e.sent,e.next=5,U();case 5:if(a=e.sent,n=a.data.following,r=n.map((function(e){return s.updateOwner(e)})).flat(),o=Object(he.a)(t.data),n.forEach((function(e){var t=o.map((function(e){return e.id})).indexOf(e.id);t&&o.splice(t,1)})),l=o.filter((function(e){return e.created_photo.length>=3&&e.id!==a.data.id})),c=[],l.length>=10)for(i=0;i<10;i++)c.push(l[i]);else l.forEach((function(e){return c.push(e)}));this.setState({profilesSuggestedToFollow:c,photosByFollowees:r,userProfile:a.data});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.createdPhotos,n=t.profilesSuggestedToFollow,o=t.photosByFollowees,l=t.userProfile;return n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"homefeed-title"},"Home Feed"),r.a.createElement("p",{className:"homefeed-intro"},"See photos and published Galleries from people you follow."),r.a.createElement("section",{className:"homefeed-content"},r.a.createElement("div",{className:"members-ad-container"},r.a.createElement("div",{className:"members-ad"},r.a.createElement("div",{className:"members-ad-text"},r.a.createElement("h1",{className:"members-ad-title"},"Members get more."),r.a.createElement("p",null,"Membership is not available on this clone, but if it were, it would start at $2.99/month")))),r.a.createElement("div",{className:"featured-follow-explainer"},r.a.createElement("h4",null,"Featured photographers"),r.a.createElement("p",null,"Follow to explore new work")),r.a.createElement(fe.a,{minDeviceWidth:1300},(function(t){return t?r.a.createElement(we,Object.assign({visibleSlides:3.5},e.state)):r.a.createElement(we,Object.assign({visibleSlides:1},e.state))})),r.a.createElement(be,{followeePhotos:o,ownerPhotos:a,userProfile:l}))):r.a.createElement(le.a,{active:!0,inline:"centered"})}}]),a}(r.a.Component),Ce=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={image:"",isLoadActive:!1},e.handleUpload=function(){var t=Object(h.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoadActive:!0}),(n=new FormData).append("file",a.target.files[0]),n.append("upload_preset","bj2iscf3"),t.prev=4,t.next=7,I.a.post("https://api.cloudinary.com/v1_1/duzftncuf/image/upload",n);case 7:r=t.sent,e.setState({image:r.data.url,isLoadActive:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),console.error(t.t0),re("Something went wrong. Please try again or use a different photo");case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"render",value:function(){return this.state.image?r.a.createElement(i.a,{to:{pathname:"/submitphoto",state:this.state}}):this.state.isLoadActive?r.a.createElement(le.a,{active:!0,inline:"centered",indeterminate:!0},"Preparing photo"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"upload-header"},"Upload"),r.a.createElement("div",{className:"upload-btn-container"},r.a.createElement("input",{type:"file",name:"file",id:"file",className:"inputfile",onChange:this.handleUpload}),r.a.createElement(k.a,{name:"arrow up",size:"big"}),r.a.createElement("h3",null,"Upload photos"),r.a.createElement(b.a,{primary:!0,className:"upload-btn lozenge"},r.a.createElement("label",{htmlFor:"file",className:"upload-label"},"Select photo"))))}}]),a}(r.a.Component),Ne=a(151),je=[{model:"photo_categories.photocategory",pk:2,fields:{name:"Abstract"}},{model:"photo_categories.photocategory",pk:3,fields:{name:"Aerial"}},{model:"photo_categories.photocategory",pk:4,fields:{name:"Animals"}},{model:"photo_categories.photocategory",pk:5,fields:{name:"Celebrities"}},{model:"photo_categories.photocategory",pk:6,fields:{name:"City & Architecture"}},{model:"photo_categories.photocategory",pk:7,fields:{name:"Black and White"}},{model:"photo_categories.photocategory",pk:8,fields:{name:"Commercial"}},{model:"photo_categories.photocategory",pk:9,fields:{name:"Family"}},{model:"photo_categories.photocategory",pk:10,fields:{name:"Fashion"}},{model:"photo_categories.photocategory",pk:11,fields:{name:"Film"}},{model:"photo_categories.photocategory",pk:12,fields:{name:"Fine Art"}},{model:"photo_categories.photocategory",pk:13,fields:{name:"Food"}},{model:"photo_categories.photocategory",pk:14,fields:{name:"Journalism"}},{model:"photo_categories.photocategory",pk:15,fields:{name:"Landscapes"}},{model:"photo_categories.photocategory",pk:16,fields:{name:"Macro"}},{model:"photo_categories.photocategory",pk:17,fields:{name:"Nature"}},{model:"photo_categories.photocategory",pk:18,fields:{name:"Night"}},{model:"photo_categories.photocategory",pk:19,fields:{name:"People"}},{model:"photo_categories.photocategory",pk:20,fields:{name:"Performing Arts"}},{model:"photo_categories.photocategory",pk:21,fields:{name:"Sport"}},{model:"photo_categories.photocategory",pk:22,fields:{name:"Still Life"}},{model:"photo_categories.photocategory",pk:23,fields:{name:"Street"}},{model:"photo_categories.photocategory",pk:24,fields:{name:"Transportation"}},{model:"photo_categories.photocategory",pk:25,fields:{name:"Travel"}},{model:"photo_categories.photocategory",pk:26,fields:{name:"Underwater"}},{model:"photo_categories.photocategory",pk:27,fields:{name:"Urban Exploration"}},{model:"photo_categories.photocategory",pk:28,fields:{name:"Wedding"}},{model:"photo_categories.photocategory",pk:29,fields:{name:"Uncategorized"}}],Oe=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={formData:{image:"",title:"",description:"",camera:"",lens:"",location:"",categories:[]},redirect:!1},e.handleChange=function(t){var a=Object($.a)(Object($.a)({},e.state.formData),{},Object(Q.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleMultiSelectChange=function(t){var a=t?t.map((function(e){return e.value})):[],n=[];a&&a.forEach((function(e){var t=je.filter((function(t){return t.fields.name===e}));n.push(t[0].pk)}));var r=Object($.a)(Object($.a)({},e.state.formData),{},{categories:n});e.setState({formData:r})},e.handleSubmit=function(){var t=Object(h.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,B(e.state.formData);case 4:e.setState({formData:{image:"",title:"",description:"",camera:"",location:"",categories:[]},redirect:"/photoshome"}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("ERR in photo upload",t.t0.response.data),re("Please provide at least Title, Location and one Category");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.state.image;this.setState({formData:Object($.a)(Object($.a)({},this.state.formData),{},{image:e})})}},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(i.a,{to:this.state.redirect});if(!this.state.formData.image)return r.a.createElement(le.a,{active:!0,inline:"centered"});var e=this.state.formData,t=e.image,a=e.title,n=e.description,o=e.location,l=e.camera,c=e.lens,s=je.map((function(e){return{value:e.fields.name,label:e.fields.name}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"upload-header"},"Upload"),r.a.createElement("div",{className:"photo-submit-outer"},r.a.createElement("div",{className:"image-upload-container"},r.a.createElement("img",{src:t,alt:"uploaded"})),r.a.createElement("div",{className:"photo-form-container"},r.a.createElement(ee.a,{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"upload-form-inner-top"},r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Title"),r.a.createElement("input",{placeholder:"Enter Title",onChange:this.handleChange,value:a,name:"title"})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Description"),r.a.createElement("textarea",{placeholder:"e.g. High angle view of a couple, looking down over a wide valley",onChange:this.handleChange,value:n,name:"description"})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Location"),r.a.createElement("input",{placeholder:"Enter Location",onChange:this.handleChange,value:o,name:"location"})),r.a.createElement("label",{className:"form-label"},"Categories"),r.a.createElement(Ne.a,{options:s,isMulti:!0,onChange:this.handleMultiSelectChange}),r.a.createElement("br",null),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Camera"),r.a.createElement("input",{placeholder:"Camera",onChange:this.handleChange,value:l,name:"camera"})),r.a.createElement(ee.a.Field,null,r.a.createElement("label",{className:"form-label"},"Lens"),r.a.createElement("input",{placeholder:"Lens",onChange:this.handleChange,value:c,name:"lens"}))),r.a.createElement("div",{className:"upload-btns-container"},r.a.createElement(b.a,{className:"lozenge"},"Upload"))))))}}]),a}(r.a.Component),Se=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={heartColor:"grey",liked:!1},e.handleClick=Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.photo.id,e.state.liked){t.next=14;break}return t.prev=3,t.next=6,J(a);case 6:e.setState({heartColor:"pink",liked:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:t.next=23;break;case 14:return t.prev=14,t.next=17,H(a);case 17:e.setState({heartColor:"grey",liked:!1}),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(14),console.log(t.t1);case 23:case"end":return t.stop()}}),t,null,[[3,9],[14,20]])}))),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.photo.liked_by.map((function(e){return e.id})).includes(this.props.currentUserId),t=e?"pink":"grey";this.setState({heartColor:t,liked:e})}},{key:"render",value:function(){var e=this.props.photo,t=e.image,a=e.title,n=e.id,o=this.state.heartColor;return r.a.createElement("div",{className:"image-item tile"},r.a.createElement(c.b,{to:"/photos/".concat(n)},r.a.createElement("img",{src:t,alt:a})),r.a.createElement("div",{className:"details"},r.a.createElement("span",{className:"title"},a),r.a.createElement("div",{className:"heart-btn-container"},r.a.createElement(k.a,{name:"heart",size:"big",color:o,onClick:this.handleClick}))))}}]),a}(r.a.Component),Pe=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userProfile:null,heartColor:"grey",liked:!1,currentUserId:null,isCurrentUser:null,isFollowedByCurrentUser:null},e.setProfileInfo=Object(h.a)(p.a.mark((function t(){var a,n,r,o,l,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params.id,t.next=3,T(a);case 3:return n=t.sent,t.next=6,U();case 6:r=t.sent,o=r.data.id,l=o===n.data.id,c=n.data.followed_by.some((function(e){return e.id===o})),e.setState({userProfile:n.data,currentUserId:o,isCurrentUser:l,isFollowedByCurrentUser:c});case 11:case"end":return t.stop()}}),t)}))),e.handleClick=function(){e.state.isFollowedByCurrentUser?e.handleUnfollowClick():e.handleFollowClick()},e.handleFollowClick=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z(e.state.userProfile.id);case 3:if(202!==t.sent.status){t.next=8;break}e.setState({isFollowedByCurrentUser:!0}),t.next=9;break;case 8:throw new Error;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.handleUnfollowClick=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e.state.userProfile.id);case 3:if(202!==t.sent.status){t.next=8;break}e.setState({isFollowedByCurrentUser:!1}),t.next=9;break;case 8:throw new Error;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getTotalLikes=function(){var t=e.state.userProfile,a=0;return t.created_photo.forEach((function(e){return a+=e.liked_by.length})),a},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setProfileInfo();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.setProfileInfo()}},{key:"render",value:function(){if(!this.state.userProfile)return r.a.createElement(le.a,{active:!0,inline:"centered"});var e=this.state.userProfile,t=e.profile_image,a=e.first_name,n=e.last_name,o=e.following,l=e.created_photo,c=e.followed_by,i=this.state,s=i.currentUserId,m=i.isCurrentUser,u=i.isFollowedByCurrentUser,p=null;return l.length&&(p=l[0].image),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile-banner-img",style:{backgroundImage:"url(".concat(p,")")}}),r.a.createElement("div",{className:"profile-summary-info"},r.a.createElement("div",{className:"profile-avatar-container"},r.a.createElement("img",{src:t,alt:"selected",style:{borderRadius:"50%",width:"90px",height:"90px",objectFit:"cover"}})),r.a.createElement("h1",null,a," ",n),!m&&r.a.createElement(b.a,{className:"lozenge ".concat(u?"is-following":"not-following"),onClick:this.handleClick},u?"Following":"Follow"),r.a.createElement("div",{className:"photo-stats-container"},r.a.createElement("p",null,c.length," ",r.a.createElement("strong",null,"Followers")),r.a.createElement("p",null,o.length," ",r.a.createElement("strong",null,"Following")),r.a.createElement("p",null,this.getTotalLikes()," Photo Likes"))),!p&&r.a.createElement("h1",{style:{textAlign:"center"}},"Add some photos to get started"),r.a.createElement("div",{className:"image-grid-outer"},r.a.createElement("div",{className:"image-grid tiles",style:{marginTop:"30px"}},l.map((function(e,t){return r.a.createElement(Se,{photo:e,key:t,currentUserId:s})})))))}}]),a}(r.a.Component),Fe=a(218),De=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={singlePhotoData:null,formText:"",postBtnHidden:!0,currentUserPhoto:null},e.handleClick=Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.match.params.id,e.state.liked){t.next=14;break}return t.prev=3,t.next=6,J(a);case 6:e.setState({heartColor:"pink",liked:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.log(t.t0);case 12:t.next=23;break;case 14:return t.prev=14,t.next=17,H(a);case 17:e.setState({heartColor:"grey",liked:!1}),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(14),console.log(t.t1);case 23:case"end":return t.stop()}}),t,null,[[3,9],[14,20]])}))),e.handleTextChange=function(t){var a=t.target.value;e.setState({formText:a})},e.handleTextBoxClick=function(){e.setState({postBtnHidden:!1})},e.handleCancelClick=function(){e.setState({postBtnHidden:!0})},e.handleCommentSubmit=Object(h.a)(p.a.mark((function t(){var a,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={text:e.state.formText,photo:e.state.singlePhotoData.id},t.prev=1,t.next=4,R(a);case 4:if(201!==t.sent.status){t.next=11;break}return n=e.props.match.params.id,t.next=9,L(n);case 9:r=t.sent,e.setState({singlePhotoData:r.data,formText:""});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))),e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t,a,n,r,o,l,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,L(t);case 3:return a=e.sent,e.next=6,U();case 6:n=e.sent,r=n.data.id,o=a.data.liked_by.map((function(e){return e.id})),l=o.includes(r),c=l?"pink":"grey",i=n.data.profile_image,this.setState({singlePhotoData:a.data,heartColor:c,liked:l,currentUserPhoto:i});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.singlePhotoData||!this.state.currentUserPhoto)return r.a.createElement(le.a,{active:!0,inline:"centered"});var e=this.state.singlePhotoData,t=e.image,a=e.title,n=e.comments,o=e.location,l=e.description,c=e.camera,i=e.categories,s=e.lens,m=this.state.singlePhotoData.owner,u=m.username,p=m.profile_image,h=this.state,d=h.heartColor,f=h.formText,g=h.postBtnHidden,v=h.currentUserPhoto,E=this.state.singlePhotoData.uploaded_at.slice(0,10),y=this.state.singlePhotoData.liked_by.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"singlephoto-container"},r.a.createElement("img",{src:t,alt:a})),r.a.createElement("section",{className:"singlephoto-lower-container"},r.a.createElement("div",{className:"singlephoto-info-outer"},r.a.createElement("div",{className:"heart-btn-container"},r.a.createElement(k.a,{name:"heart",size:"big",color:d,onClick:this.handleClick,style:{margin:"10px",cursor:"pointer"}})),r.a.createElement("div",{className:"title-owner-container"},r.a.createElement("div",{className:"singlephoto-owner-avatar"},r.a.createElement("img",{src:p,alt:"profile",style:{borderRadius:"50%",width:"50px"}})),r.a.createElement("div",null,r.a.createElement("h2",null,a),r.a.createElement("p",null,"by ",u))),r.a.createElement("div",{className:"location-time"},r.a.createElement(k.a,{name:"map marker alternate"}),r.a.createElement("p",{style:{marginRight:"15px",textDecorationLine:"underline",textDecorationStyle:"dashed"}},o),r.a.createElement("p",null,r.a.createElement("strong",null,"Uploaded:")," ",E)),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("p",null,l),r.a.createElement("br",null),r.a.createElement("p",null,y," ",1===y?"person":"people"," liked this photo"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(k.a,{name:"camera",size:"large",color:"grey"}),r.a.createElement("span",{className:"gear"},c)),r.a.createElement("br",null),r.a.createElement(k.a,{name:"eye",size:"large",color:"grey"}),r.a.createElement("span",{className:"gear"},s),r.a.createElement("h4",{style:{marginTop:"40px"}},"Categories:"),r.a.createElement("div",{className:"photoshow-categories-list"},i.map((function(e,t){return r.a.createElement("div",{key:t,className:"photoshow-category"},e.name)}))))),r.a.createElement("div",{className:"comments-outer-container"},r.a.createElement(Fe.a.Group,null,S()&&r.a.createElement(ee.a,null,r.a.createElement("div",{className:"form-input-container"},r.a.createElement("img",{src:v,alt:"profile",style:{width:"30px",height:"30px",borderRadius:"50%",marginRight:"5px",marginTop:"5px"}}),r.a.createElement(ee.a.Input,{onClick:this.handleTextBoxClick,onChange:this.handleTextChange,value:f,placeholder:"\ud83d\udcac   Add a comment"})),r.a.createElement("div",{className:"comment-btns-container ".concat(g?"hidden-btns":"show-btns")},r.a.createElement(b.a,{className:"cancel-btn",onClick:this.handleCancelClick},"Cancel"),r.a.createElement(b.a,{primary:!0,className:"lozenge",onClick:this.handleCommentSubmit},"Post"))),r.a.createElement("p",{style:{marginTop:"7px"}},r.a.createElement("strong",null,n.length," comments")),!n.length&&r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement(k.a,{name:"comment outline",size:"big"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"No comments yet")),n.map((function(e,t){return r.a.createElement(Fe.a,{key:t},r.a.createElement("img",{src:e.owner.profile_image,alt:"profile",style:{width:"40px",height:"40px",borderRadius:"50%"}}),r.a.createElement("div",{style:{display:"inline-block",marginLeft:"10px"}},r.a.createElement(Fe.a.Author,null,e.owner.username),r.a.createElement(Fe.a.Text,null,e.text)))}))))))}}]),a}(r.a.Component),Ie=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={likedPhotos:null,currentUserId:null},e.componentDidMount=Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U();case 3:a=t.sent,e.setState({likedPhotos:a.data.liked_photos,currentUserId:a.data.id}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(f.a)(a,[{key:"render",value:function(){if(!this.state.likedPhotos)return r.a.createElement(le.a,{active:!0,inline:"centered"});var e=this.state,t=e.likedPhotos,a=e.currentUserId;return r.a.createElement("div",{className:"image-grid-outer"},r.a.createElement("div",{className:"image-grid tiles",style:{marginTop:"30px"}},t.map((function(e,t){return r.a.createElement(Se,{photo:e,key:t,currentUserId:a})}))))}}]),a}(r.a.Component),Ae=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null,r.a.createElement(m.a,null),r.a.createElement(Z,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:X}),r.a.createElement(i.b,{exact:!0,path:"/join",component:q}),r.a.createElement(i.b,{exact:!0,path:"/signup",component:oe}),r.a.createElement(i.b,{exact:!0,path:"/gettoknow",component:ue}),r.a.createElement(i.b,{exact:!0,path:"/login",component:pe}),r.a.createElement(i.b,{exact:!0,path:"/liked",component:Ie}),r.a.createElement(i.b,{path:"/photoshome",component:xe}),r.a.createElement(i.b,{path:"/upload",component:Ce}),r.a.createElement(i.b,{path:"/submitphoto",component:Oe}),r.a.createElement(i.b,{path:"/profile/:id",component:Pe}),r.a.createElement(i.b,{path:"/photos/:id",component:De}))))};l.a.render(r.a.createElement(Ae,null),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.601973d8.chunk.js.map